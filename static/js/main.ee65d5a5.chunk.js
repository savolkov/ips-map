(this["webpackJsonpips-map"]=this["webpackJsonpips-map"]||[]).push([[0],{113:function(e,t,n){e.exports=n(137)},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},125:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),o=n(41),c=n.n(o),l=(n(118),n(119),n(0)),i=n(1),s=n(3),u=n(4),f=n(151),m=n(153),p=n(152),h=n(142),v=n(154),d=(n(120),n(121),n(43)),g=(n(122),function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={value:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a}return Object(i.a)(n,[{key:"handleChange",value:function(e){var t=this.props.cbFromParent;t&&t(e.target.value),this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state.value;return r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{placeholder:"Wiki page URL",className:"textbox",type:"text",value:e,onChange:this.handleChange}))}}]),n}(r.a.Component)),b=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).alertMessage=void 0,a.getChildValue=function(e){a.setState({textBoxValue:e})},a.submitBtnClick=function(){var e=a.props.cbFromParent,t=a.state.textBoxValue;t&&(e&&e([]),fetch("https://whispering-sea-82070.herokuapp.com?url=".concat(t)).then((function(e){return e.text()})).then((function(t){console.log(t);var n=JSON.parse(t);if(n&&e){a.alertMessage="";var r=n.places?n.places:[];e(r)}})).catch((function(e){console.log(e),a.alertMessage="Error handling request. Try once again or try another page."})))},a.clearBtnClick=function(){var e=a.props.cbFromParent;e&&e([])},a.state={textBoxValue:""},a.alertMessage="",a}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"controlPanel"},r.a.createElement(g,{cbFromParent:this.getChildValue}),r.a.createElement("div",{className:"controlPanel__buttons"},r.a.createElement("button",{type:"button",onClick:this.submitBtnClick,className:"controlPanel__tb waves-effect waves-light btn"},"Submit"),r.a.createElement("button",{type:"button",onClick:this.clearBtnClick,className:"controlPanel__tb waves-effect waves-light btn red"},"Clear all")),r.a.createElement("div",null,r.a.createElement("p",null,this.alertMessage)))}}]),n}(r.a.Component),E=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).mapRef=void 0,a.groupRef=void 0,a.controlPanelResultsHandler=function(e){a.setState({markers:e},(function(){if(0!==e.length){var t=a.mapRef.current.leafletElement,n=a.groupRef.current.leafletElement;t.fitBounds(n.getBounds())}}))},a.state={markers:[]},a.mapRef=r.a.createRef(),a.groupRef=r.a.createRef(),a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state.markers;return r.a.createElement("div",{className:"IPsMap"},r.a.createElement(b,{cbFromParent:this.controlPanelResultsHandler}),r.a.createElement(f.a,{center:{lat:30,lng:0},zoom:1,ref:this.mapRef},r.a.createElement(m.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(p.a,{ref:this.groupRef},e.map((function(e,t){return r.a.createElement(h.a,{key:"marker-".concat(t),position:e.coords},r.a.createElement(v.a,null,r.a.createElement("span",null,e.text)))})))))}}]),n}(r.a.Component),C=n(52),k=n(92),y=n(155),O=n(150),x=n(156),R=(n(125),n(51)),N=n(157),j=n(58);function w(){var e=Object(a.useState)({key:"",endpoint:""}),t=Object(k.a)(e,2),n=t[0],o=t[1],c=r.a.createRef();return r.a.createElement("div",null,"Key:",r.a.createElement("input",{type:"text",className:"srText",value:n.key,onChange:function(e){e.persist(),o((function(t){return Object(C.a)({},t,{key:e.target.value})}))}}),"URL:",r.a.createElement("input",{type:"text",className:"srText",value:n.endpoint,onChange:function(e){e.persist(),o((function(t){return Object(C.a)({},t,{endpoint:e.target.value})}))}}),r.a.createElement("input",{type:"file",ref:c}),r.a.createElement("button",{type:"button",onClick:function(){var e,t;if((null===(e=c.current)||void 0===e?void 0:e.files)&&0!==(null===(t=c.current)||void 0===t?void 0:t.files.length)){var a=c.current.files[0],r=y.a.fromSubscription(n.endpoint,n.key),o=O.a.fromWavFileInput(a);new x.a(r,o).recognizeOnceAsync((function(e){switch(e.reason){case R.a.RecognizedSpeech:console.log("RECOGNIZED: Text=".concat(e.text));break;case R.a.NoMatch:console.log("NOMATCH: Speech could not be recognized.");break;case R.a.Canceled:var t=N.a.fromResult(e);console.log("CANCELED: Reason=".concat(t.reason)),t.reason===j.a.Error&&(console.log("CANCELED: ErrorCode=".concat(t.ErrorCode)),console.log("CANCELED: ErrorDetails=".concat(t.errorDetails)),console.log("CANCELED: Did you update the subscription info?"))}}))}}},"Submit"))}var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h3",null,"Find Wiki editors by IP!"),r.a.createElement(E,null),r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,t){},39:function(e,t){},54:function(e,t){},84:function(e,t){},86:function(e,t){},88:function(e,t){},89:function(e,t){},90:function(e,t){},91:function(e,t){}},[[113,1,2]]]);
//# sourceMappingURL=main.ee65d5a5.chunk.js.map